<Window x:Class="WpfMapboxApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:wv2="clr-namespace:Microsoft.Web.WebView2.Wpf;assembly=Microsoft.Web.WebView2.Wpf"
        Title="Mapbox Online Viewer" Height="700" Width="1000">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Configuration Panel -->
        <GroupBox Grid.Row="0" Header="Configuration" Margin="10">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <TextBlock Grid.Row="0" Grid.Column="0" Text="Mapbox Access Token:" VerticalAlignment="Center" Margin="5"/>
                <TextBox Name="AccessTokenTextBox" Grid.Row="0" Grid.Column="1" Margin="5" 
                         ToolTip="Your Mapbox access token (pk....)"/>
                
                <TextBlock Grid.Row="1" Grid.Column="0" Text="Style URL:" VerticalAlignment="Center" Margin="5"/>
                <TextBox Name="StyleUrlTextBox" Grid.Row="1" Grid.Column="1" Margin="5" 
                         Text="mapbox://styles/mapbox/streets-v11"
                         ToolTip="Mapbox style URL (mapbox://styles/...)"/>
            </Grid>
        </GroupBox>
        
        <!-- Status Panel -->
        <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="10">
            <TextBlock Name="StatusTextBlock" Text="Status: Ready" VerticalAlignment="Center" 
                       Margin="20,5,5,5" FontWeight="Bold"/>
        </StackPanel>
        
        <!-- Control Panel -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" Margin="10">
            <Button Name="LoadMapButton" Content="Load Map" Click="LoadMapButton_Click" Margin="5"/>
        </StackPanel>
        
        <!-- Route Panel -->
        <GroupBox Grid.Row="3" Header="Route Display" Margin="10">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <TextBlock Grid.Row="0" Grid.Column="0" Text="GeoJSON Route:" VerticalAlignment="Top" Margin="5"/>
                <TextBox Name="RouteTextBox" Grid.Row="0" Grid.Column="1" Margin="5" Height="60" 
                         TextWrapping="Wrap" AcceptsReturn="True" VerticalScrollBarVisibility="Auto"
                         ToolTip="Enter GeoJSON LineString, MultiLineString, or polyline6 format"/>
                <Button Name="DisplayRouteButton" Grid.Row="0" Grid.Column="2" Content="Display Route" 
                        Click="DisplayRouteButton_Click" Margin="5" VerticalAlignment="Top"/>
                
                <Button Name="SampleRouteButton" Grid.Row="1" Grid.Column="0" Content="Load Sample" 
                        Click="SampleRouteButton_Click" Margin="5"/>
                <Button Name="ClearRouteButton" Grid.Row="1" Grid.Column="1" Content="Clear Route" 
                        Click="ClearRouteButton_Click" Margin="5" HorizontalAlignment="Left"/>
                
                <!-- Driver Animation Controls -->
                <GroupBox Grid.Row="2" Grid.ColumnSpan="3" Header="Driver Animation" Margin="5">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        
                        <Button Name="StartAnimationButton" Grid.Row="0" Grid.Column="0" Content="Start" 
                                Click="StartAnimationButton_Click" Margin="5" IsEnabled="False"/>
                        <Button Name="PauseAnimationButton" Grid.Row="0" Grid.Column="1" Content="Pause" 
                                Click="PauseAnimationButton_Click" Margin="5" IsEnabled="False"/>
                        <Button Name="ResetAnimationButton" Grid.Row="0" Grid.Column="2" Content="Reset" 
                                Click="ResetAnimationButton_Click" Margin="5" IsEnabled="False"/>
                        
                        <TextBlock Grid.Row="1" Grid.Column="0" Text="Speed:" VerticalAlignment="Center" Margin="5"/>
                        <Slider Name="SpeedSlider" Grid.Row="1" Grid.Column="1" Grid.ColumnSpan="3" 
                                Minimum="0.1" Maximum="5.0" Value="1.0" Width="200" 
                                TickFrequency="0.1" IsSnapToTickEnabled="True" Margin="5"
                                ValueChanged="SpeedSlider_ValueChanged"/>
                        <TextBlock Name="SpeedLabel" Grid.Row="1" Grid.Column="4" Text="1.0x" 
                                   VerticalAlignment="Center" Margin="5"/>
                    </Grid>
                </GroupBox>
            </Grid>
        </GroupBox>
        
        <!-- Map View -->
        <wv2:WebView2 Name="MapWebView" Grid.Row="4" Margin="10"/>
        
    </Grid>
</Window>